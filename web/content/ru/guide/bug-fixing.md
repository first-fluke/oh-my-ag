---
title: "Сценарий: Исправление ошибок"
description: Структурированный цикл воспроизведение-диагностика-исправление-регрессия с эскалацией по уровню серьёзности.
---

# Сценарий: Исправление ошибок

## Формат приёма

Начните с воспроизводимого отчёта:

```text
Symptom:
Environment:
Steps to reproduce:
Expected vs actual:
Logs/trace:
Regression window (if known):
```

## Триаж по серьёзности

Классифицируйте на раннем этапе, чтобы выбрать скорость реагирования:

- `P0`: потеря данных, обход авторизации, сбой в продакшене
- `P1`: основной пользовательский сценарий сломан
- `P2`: ухудшенное поведение с обходным решением
- `P3`: незначительная/неблокирующая проблема

`P0/P1` всегда должны включать ревью QA/безопасности.

## Цикл выполнения

1. Точно воспроизведите проблему в минимальном окружении.
2. Изолируйте корневую причину (не просто устраняйте симптомы).
3. Реализуйте минимальное безопасное исправление.
4. Добавьте регрессионные тесты для проблемного пути.
5. Повторно проверьте смежные пути, которые могут иметь тот же режим отказа.

## Шаблон промпта для debug-agent

```text
Bug: <error/symptom>
Repro steps: <steps>
Scope: <files/modules>
Expected behavior: <expected>
Need:
1) root cause
2) minimal fix
3) regression tests
4) adjacent-risk scan
```

## Типичные сигналы эскалации

Эскалируйте на QA или безопасность, если ошибка затрагивает:

- авторизацию/сессии/обновление токенов
- границы прав доступа
- консистентность платежей/транзакций
- регрессии производительности под нагрузкой

## Валидация после исправления

- исходное воспроизведение больше не приводит к ошибке
- нет новых ошибок в связанных потоках
- тесты падают до исправления и проходят после
- путь отката понятен на случай необходимости хотфикса

## Критерии завершения

Исправление ошибки завершено, когда:

- корневая причина определена и задокументирована
- исправление проверено через воспроизводимые проверки
- регрессионное покрытие обеспечено
