---
title: "Сценарий: Мультиагентный проект"
description: Сквозной процесс сложной кросс-доменной поставки с явными контрольными точками координации.
---

# Сценарий: Мультиагентный проект

## Когда использовать этот путь

Используйте, когда функциональность охватывает несколько доменов (например, backend + frontend + QA) и параллельное выполнение приносит пользу.

## Модель координации

Рекомендуемая последовательность:

1. `/plan` для декомпозиции и маппинга зависимостей
2. `/coordinate` для определения порядка выполнения и ответственных
3. параллельный `agent:spawn` по доменам
4. `/review` для контрольной проверки QA/безопасности/производительности

## Стратегия сессий и рабочих пространств

Используйте один идентификатор сессии на поток функциональности:

```text
session-auth-v2
```

Назначайте изолированные рабочие пространства по доменам для снижения конфликтов слияния:

- backend: `./apps/api`
- frontend: `./apps/web`
- mobile: `./apps/mobile`

## Пример запуска

```bash
oh-my-ag agent:spawn backend "Implement JWT auth API + refresh flow" session-auth-v2 -w ./apps/api
oh-my-ag agent:spawn frontend "Build login + refresh UX with error states" session-auth-v2 -w ./apps/web
oh-my-ag agent:spawn qa "Review auth risks, test matrix, and regression scope" session-auth-v2
```

## Правило «контракт в первую очередь»

Перед параллельной разработкой зафиксируйте общие контракты:

- схемы запросов/ответов
- коды и сообщения ошибок
- допущения о жизненном цикле авторизации/сессий

Если контракты изменяются в процессе работы, приостановите нижестоящих агентов и перевыпустите промпты с обновлённым контрактом.

## Контрольные точки слияния

Не сливайте, пока не пройдены все проверки:

1. доменные тесты пройдены
2. точки интеграции соответствуют согласованным контрактам
3. критические замечания QA высокого/критического приоритета разрешены или явно приняты
4. changelog или примечания к релизу обновлены при изменении внешне видимого поведения

## Операционные антипаттерны

Избегайте:

- использования одного рабочего пространства для всех агентов
- изменения контрактов без уведомления других агентов
- независимого слияния backend/frontend до проверки совместимости

## Критерии завершения

Мультиагентное выполнение завершено, когда:

- запланированные задачи выполнены по всем доменам
- кросс-доменная интеграция проверена
- согласование QA (или документированное принятие рисков) зафиксировано
