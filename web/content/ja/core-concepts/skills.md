---
title: スキル
description: 段階的開示とトークン最適化されたスキルアーキテクチャ。
---

# スキル

## 段階的開示

スキルはリクエストの意図から選択されます。手動でのスキル選択は通常不要です。

## 2層設計

各スキルは**トークン最適化された2層設計**を採用しています:

| レイヤー | 内容 | サイズ |
|---------|------|--------|
| `SKILL.md` | アイデンティティ、ルーティング条件、コアルール | 約40行（約800B） |
| `resources/` | 実行プロトコル、例、チェックリスト、プレイブック、スニペット、技術スタック | オンデマンドで読み込み |

これにより、スキルの初期読み込み時に**約75%のトークン削減**を実現します（スキルあたり 3-7KB → 約800B）。

## 共有リソースレイヤー (`_shared/`)

すべてのスキルで共通のリソースを重複排除します:

| リソース | 目的 |
|----------|------|
| `reasoning-templates.md` | 多段階推論のための穴埋め式構造化テンプレート |
| `clarification-protocol.md` | 質問すべきか推測すべきかの判断基準、曖昧さレベル |
| `context-budget.md` | モデルティアごとのトークン効率の良いファイル読み取り戦略 |
| `context-loading.md` | オーケストレータープロンプト構築のためのタスクタイプとリソースのマッピング |
| `skill-routing.md` | キーワードからスキルへのマッピングと並列実行ルール |
| `difficulty-guide.md` | 簡単/中程度/複雑の評価とプロトコル分岐 |
| `lessons-learned.md` | セッション横断で蓄積されたドメイン固有の注意点 |
| `verify.sh` | エージェント完了後に実行される自動検証スクリプト |
| `api-contracts/` | PM がコントラクトを作成し、Backend が実装、Frontend/Mobile が利用 |
| `serena-memory-protocol.md` | CLI モードのメモリ読み書きプロトコル |
| `common-checklist.md` | 汎用的なコード品質チェック項目 |

## スキル固有のリソース

各スキルはドメイン固有のリソースを提供します:

| リソース | 目的 |
|----------|------|
| `execution-protocol.md` | 4ステップの思考連鎖ワークフロー（分析 → 計画 → 実装 → 検証） |
| `examples.md` | 2-3件の入出力例（Few-shot） |
| `checklist.md` | ドメイン固有の自己検証チェックリスト |
| `error-playbook.md` | 「3ストライク」エスカレーションルール付きの障害復旧手順 |
| `tech-stack.md` | 詳細な技術仕様 |
| `snippets.md` | コピー＆ペースト可能なコードパターン |

## なぜ重要なのか

これにより、初期コンテキストを軽量に保ちつつ、必要な場合には深い実行をサポートできます。
