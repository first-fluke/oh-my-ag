---
title: "ユースケース: バグ修正"
description: 重大度に基づくエスカレーション付きの構造化された再現-診断-修正-リグレッションループ。
---

# ユースケース: バグ修正

## 受付フォーマット

再現可能なレポートから始めます:

```text
Symptom:
Environment:
Steps to reproduce:
Expected vs actual:
Logs/trace:
Regression window (if known):
```

## 重大度トリアージ

対応速度を選択するため、早期に分類します:

- `P0`: データ損失、認証バイパス、本番障害
- `P1`: 主要なユーザーフローの障害
- `P2`: ワークアラウンドありの機能低下
- `P3`: 軽微/非ブロッキング

`P0/P1` は必ず QA/セキュリティレビューを実施してください。

## 実行ループ

1. 最小限の環境で正確に再現する。
2. 根本原因を特定する（症状の表面的な修正ではなく）。
3. 最小限の安全な修正を実装する。
4. 失敗パスに対するリグレッションテストを追加する。
5. 同じ障害モードを共有する可能性のある隣接パスを再確認する。

## debug-agent 用プロンプトテンプレート

```text
Bug: <error/symptom>
Repro steps: <steps>
Scope: <files/modules>
Expected behavior: <expected>
Need:
1) root cause
2) minimal fix
3) regression tests
4) adjacent-risk scan
```

## 一般的なエスカレーションシグナル

バグが以下に関連する場合、QA またはセキュリティにエスカレーションしてください:

- 認証/セッション/トークンリフレッシュ
- 権限境界
- 支払い/トランザクションの整合性
- 負荷下でのパフォーマンスリグレッション

## 修正後の検証

- 元の再現手順で障害が発生しなくなること
- 関連フローに新しいエラーがないこと
- テストが修正前に失敗し、修正後に成功すること
- ホットフィックスが必要な場合のロールバックパスが明確であること

## 完了基準

バグ修正は以下の条件を満たした場合に完了です:

- 根本原因が特定され、文書化されている
- 修正が再現可能なチェックにより検証されている
- リグレッションカバレッジが整備されている
